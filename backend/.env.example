# =============================================================================
# SISTEMA DE AGENDAMENTOS CRAS - Backend Environment Variables
# =============================================================================
# ‚ö†Ô∏è IMPORTANTE: Este √© um arquivo de EXEMPLO. N√ÉO coloque valores reais aqui!
# 
# 1. Copie este arquivo: cp .env.example .env
# 2. Edite o arquivo .env com seus valores reais
# 3. NUNCA commite o arquivo .env no Git
# =============================================================================

# -----------------------------------------------------------------------------
# üóÑÔ∏è MONGODB CONFIGURATION
# -----------------------------------------------------------------------------
# Op√ß√£o 1: URI completa (formato padr√£o)
MONGO_URI=mongodb://[username]:[password]@[host]:[port]/[database]?authSource=[authSource]
# Exemplo: mongodb://cras_admin:SuaSenhaSegura123@localhost:27017/agendamentos?authSource=admin

# Op√ß√£o 2: Componentes separados (mais seguro - use esta op√ß√£o!)
MONGO_USER=cras_admin
MONGO_PASSWORD=SuaSenhaSegura123
MONGO_HOST=localhost
MONGO_PORT=27017
MONGO_DB=agendamentos
MONGO_AUTH_SOURCE=admin

# ‚ö†Ô∏è SEGURAN√áA:
# - NUNCA use MongoDB sem autentica√ß√£o em produ√ß√£o!
# - Senha deve ter no m√≠nimo 20 caracteres (letras, n√∫meros, s√≠mbolos)
# - Use usu√°rio espec√≠fico com permiss√µes limitadas (readWrite + dbAdmin)
# - Em produ√ß√£o, configure TLS/SSL: ?tls=true&tlsCAFile=/path/to/ca.pem

# -----------------------------------------------------------------------------
# üîê JWT (JSON Web Tokens) CONFIGURATION
# -----------------------------------------------------------------------------
# Secret para tokens de acesso (Access Tokens)
JWT_SECRET=GERAR_COM_COMANDO_ABAIXO_128_CARACTERES_HEXADECIMAIS
# Gerar: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# Secret para tokens de atualiza√ß√£o (Refresh Tokens)
JWT_REFRESH_SECRET=GERAR_COM_COMANDO_ABAIXO_128_CARACTERES_DIFERENTES
# Gerar: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# ‚ö†Ô∏è SEGURAN√áA:
# - Cada secret DEVE ter no m√≠nimo 64 caracteres (recomendado: 128)
# - JWT_SECRET e JWT_REFRESH_SECRET DEVEM ser DIFERENTES
# - NUNCA reutilize secrets entre ambientes (dev, staging, prod)
# - Rotacione secrets a cada 3-6 meses em produ√ß√£o
# - Guarde backup dos secrets em vault/cofre seguro

# -----------------------------------------------------------------------------
# üîí DATA ENCRYPTION CONFIGURATION
# -----------------------------------------------------------------------------
# Chave de criptografia para dados sens√≠veis (CPF, nomes, telefones)
ENCRYPTION_KEY=sua_chave_de_criptografia_forte_aqui_minimo_32_caracteres

# ‚ö†Ô∏è CR√çTICO - LEIA COM ATEN√á√ÉO:
# - Esta chave √© usada para criptografar dados PERMANENTEMENTE no banco de dados
# - Se ALTERAR esta chave, TODOS os dados criptografados ficar√£o ILEG√çVEIS para sempre!
# - Use uma string aleat√≥ria forte (m√≠nimo 32 caracteres)
# - Algoritmo usado: AES-256-CBC
# - NUNCA altere ap√≥s o primeiro registro no banco!
# - Fa√ßa backup seguro desta chave ANTES de qualquer migra√ß√£o!
# 
# Gerar chave forte:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# Dados que ser√£o criptografados:
# ‚úÖ CPF dos usu√°rios
# ‚úÖ Nomes completos
# ‚úÖ N√∫meros de telefone
# ‚úÖ CPF dos agendamentos

# -----------------------------------------------------------------------------
# üåê SERVER CONFIGURATION
# -----------------------------------------------------------------------------
# Porta onde o servidor Express ir√° rodar
PORT=5000

# Ambiente de execu√ß√£o (development, production, test)
NODE_ENV=development

# URL do frontend (para configura√ß√£o CORS)
FRONTEND_URL=http://localhost:5173
# Em produ√ß√£o: FRONTEND_URL=https://seudominio.com.br

# Trust Proxy - Habilitar APENAS se houver proxy reverso (Nginx, CloudFlare, ALB)
# ‚ö†Ô∏è N√ÉO HABILITAR sem proxy real (permite IP spoofing)
TRUST_PROXY=false
# Em produ√ß√£o com Nginx/CloudFlare: TRUST_PROXY=true

# ‚ö†Ô∏è IMPORTANTE:
# - Em produ√ß√£o, NODE_ENV DEVE ser "production"
# - FRONTEND_URL em produ√ß√£o DEVE ser HTTPS
# - Nunca use http:// em produ√ß√£o (apenas https://)
# - TRUST_PROXY deve ser true APENAS se houver proxy reverso

# -----------------------------------------------------------------------------
# üìù LOGGING CONFIGURATION (opcional)
# -----------------------------------------------------------------------------
# N√≠vel de log: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# Diret√≥rio para salvar logs
LOG_DIR=logs

# Dias para manter logs antigos
LOG_RETENTION_DAYS=30

# -----------------------------------------------------------------------------
# üö¶ RATE LIMITING (opcional - valores padr√£o j√° configurados)
# -----------------------------------------------------------------------------
# M√°ximo de requisi√ß√µes por janela de tempo
RATE_LIMIT_MAX=20

# Janela de tempo em minutos
RATE_LIMIT_WINDOW=15

# -----------------------------------------------------------------------------
# üîê SESSION CONFIGURATION (opcional)
# -----------------------------------------------------------------------------
# Tempo de expira√ß√£o do Access Token (em segundos)
JWT_EXPIRES_IN=28800  # 8 horas

# Tempo de expira√ß√£o do Refresh Token (em segundos)
JWT_REFRESH_EXPIRES_IN=604800  # 7 dias

# -----------------------------------------------------------------------------
# üìß EMAIL CONFIGURATION (futuro - n√£o implementado ainda)
# -----------------------------------------------------------------------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=seu-email@gmail.com
# SMTP_PASSWORD=sua-senha-de-app
# SMTP_FROM=noreply@seudominio.com.br

# -----------------------------------------------------------------------------
# CHECKLIST ANTES DE RODAR EM PRODU√á√ÉO
# -----------------------------------------------------------------------------
# 
# ‚úÖ Todas as vari√°veis preenchidas com valores reais
# ‚úÖ JWT_SECRET gerado com 128 caracteres (crypto.randomBytes(64))
# ‚úÖ JWT_REFRESH_SECRET gerado e DIFERENTE do JWT_SECRET
# ‚úÖ ENCRYPTION_KEY gerada e BACKUP feito em local seguro
# ‚úÖ MongoDB com autentica√ß√£o habilitada
# ‚úÖ MONGO_PASSWORD com no m√≠nimo 20 caracteres fortes
# ‚úÖ NODE_ENV=production
# ‚úÖ FRONTEND_URL com HTTPS e dom√≠nio real
# ‚úÖ Arquivo .env N√ÉO est√° no Git (.gitignore configurado)
# ‚úÖ Permiss√µes do arquivo .env: chmod 600 .env
# ‚úÖ Firewall configurado (apenas portas necess√°rias abertas)
# ‚úÖ SSL/TLS configurado (Let's Encrypt)
# ‚úÖ Backup da ENCRYPTION_KEY em vault/cofre
# ‚úÖ Processo de rota√ß√£o de secrets documentado
# 
# =============================================================================

